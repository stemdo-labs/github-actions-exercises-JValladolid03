name: Workflow Jobs EJ1  #Nombre del workflow

on:
  workflow_dispatch:

jobs:
  tareas: #Crear job
    runs-on: labs-runner #Asignarle runner
    steps: #Crear tareas
      - name: Mostrar fecha y hora actual
        run: date
      - name: Crear archivo de texto
        run: touch jvl.txt
      - name: Listar archivos en el directorio actual
        run: ls
      - name: Checkout del repositorio
        uses: actions/checkout@v3
      - name: Hacer commit y push de cualquier fichero en el repositorio
        #Conetar cuenta al repositorio, a√±adir archivo creado y hacer commit y push
        run: |
          git config --global user.name "JValladolid03"
          git config --global user.email jvalladolid@stemdo.io
          git add jvl.txt
          git commit -m "Commit desde GitHub Actions" || echo "Error al subir"
          git push